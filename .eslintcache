[{"D:\\Programming\\socialcalendar\\socialcalendar\\src\\index.js":"1","D:\\Programming\\socialcalendar\\socialcalendar\\src\\pages\\Home.js":"2","D:\\Programming\\socialcalendar\\socialcalendar\\src\\App.js":"3","D:\\Programming\\socialcalendar\\socialcalendar\\src\\pages\\Login.js":"4"},{"size":472,"mtime":1607436867925,"results":"5","hashOfConfig":"6"},{"size":6203,"mtime":1607813479714,"results":"7","hashOfConfig":"6"},{"size":535,"mtime":1607452278657,"results":"8","hashOfConfig":"6"},{"size":210,"mtime":1607437154832,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"14ehg13",{"filePath":"12","messages":"13","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"14"},{"filePath":"15","messages":"16","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"17"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\Programming\\socialcalendar\\socialcalendar\\src\\index.js",[],"D:\\Programming\\socialcalendar\\socialcalendar\\src\\pages\\Home.js",["20","21","22","23"],"import React, { useState, useEffect } from \"react\";\r\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\r\nimport moment from \"moment\";\r\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddAPhotoIcon from \"@material-ui/icons/AddAPhoto\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport axios from \"axios\";\r\nimport { useLocation, useParams } from \"react-router-dom\";\r\n\r\nconst Home = () => {\r\n  const [open, setOpen] = useState(false);\r\n  const [time, setTime] = useState([]);\r\n  const [textValue, setTextValue] = useState(\"\");\r\n  const [eventsArray, setEventsArray] = useState([]);\r\n  const [image, setImage] = useState(\"\");\r\n  const [eventDetails, setEventDetails] = useState(null);\r\n  const [openEvent, setOpenEvent] = useState(false);\r\n  const [hashtags, setHashtags] = useState(\"\");\r\n  let params = useParams();\r\n  let client = params.client;\r\n\r\n  useEffect(() => {\r\n    getEvents();\r\n  }, [client]);\r\n\r\n  useEffect(() => {\r\n    if (eventDetails !== null) {\r\n      setOpenEvent(true);\r\n      console.log(\"this is running\");\r\n    }\r\n  }, [eventDetails]);\r\n\r\n  const getEvents = () => {\r\n    axios\r\n      .get(\r\n        `https://socialcalendar123.herokuapp.com/${client}/posts` ||\r\n          `http://localhost:85/${client}/posts`\r\n      )\r\n      .then((response) => {\r\n        console.log(response.data[0].posts);\r\n        let events = response.data[0].posts;\r\n        let formattedEvents = events.forEach((event) => {\r\n          event.start = new Date(event.start);\r\n          event.end = new Date(event.end);\r\n        });\r\n\r\n        setEventsArray(events);\r\n\r\n        //setEventsArray(formattedEvents);\r\n      });\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setOpenEvent(false);\r\n  };\r\n  const events = eventsArray;\r\n  const localizer = momentLocalizer(moment);\r\n\r\n  const handleSelect = (date) => {\r\n    console.log(date);\r\n    const results = Object.values(date.slots).toString();\r\n    setOpen(true);\r\n    setTime(results);\r\n  };\r\n\r\n  const handleEventSelect = async (event) => {\r\n    console.log(event);\r\n    setEventDetails([event]);\r\n  };\r\n\r\n  const handleAddEvent = () => {\r\n    console.log(textValue);\r\n    let addFormData = new FormData();\r\n    addFormData.append(\"file\", image);\r\n    let newPost = {\r\n      id: textValue,\r\n      hashtags: hashtags,\r\n      imageUrl: \"\",\r\n      start: new Date(time),\r\n      end: new Date(time),\r\n      title: textValue,\r\n    };\r\n\r\n    addFormData.append(\"post\", JSON.stringify(newPost));\r\n    axios.put(\r\n      `https://socialcalendar123.herokuapp.com/add/${client}` ||\r\n        \"http://localhost:85/add/btwebgroup\",\r\n      addFormData,\r\n      {}\r\n    );\r\n    setEventsArray([\r\n      ...eventsArray,\r\n\r\n      {\r\n        start: new Date(time),\r\n        end: new Date(time),\r\n        title: textValue,\r\n      },\r\n    ]);\r\n\r\n    console.log(eventsArray);\r\n    setTextValue(\"\");\r\n  };\r\n\r\n  const handleFileRead = async (event) => {\r\n    const file = event.target.files[0];\r\n\r\n    setImage(file);\r\n  };\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"dialog\">\r\n        <Dialog\r\n          open={open}\r\n          onClose={handleClose}\r\n          aria-labelledby=\"form-dialog-title\"\r\n        >\r\n          <DialogTitle id=\"form-dialog-title\">Add New Post</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText>{time}</DialogContentText>\r\n\r\n            <IconButton>\r\n              <AddAPhotoIcon className=\"material-icons\">\r\n                add_a_photo\r\n              </AddAPhotoIcon>\r\n            </IconButton>\r\n            <input type=\"file\" name=\"file\" onChange={handleFileRead} />\r\n            <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"name\"\r\n              label=\"Post Description\"\r\n              type=\"text\"\r\n              fullWidth\r\n              value={textValue}\r\n              onChange={(e) => setTextValue(e.target.value)}\r\n            />\r\n            <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"hashtags\"\r\n              label=\"Hashtags\"\r\n              type=\"text\"\r\n              fullWidth\r\n              value={hashtags}\r\n              onChange={(e) => setHashtags(e.target.value)}\r\n            />\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={handleClose} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={handleAddEvent} color=\"primary\">\r\n              Add\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog\r\n          open={openEvent}\r\n          onClose={handleClose}\r\n          aria-labelledby=\"form-dialog-title\"\r\n        >\r\n          <DialogTitle id=\"form-dialog-title\">View Post</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText>\r\n              {eventDetails &&\r\n                Object.values(eventDetails).map((item, index) => (\r\n                  <>\r\n                    <center>\r\n                      <img width=\"50%\" src={item.imageUrl} />\r\n                      <br />\r\n                      Post Description: {item.title}\r\n                      <br />\r\n                      Hashtags: {item.hashtags}\r\n                    </center>\r\n                  </>\r\n                ))}\r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions></DialogActions>\r\n        </Dialog>\r\n      </div>\r\n      <div className=\"calendar\">\r\n        <Calendar\r\n          selectable={true}\r\n          localizer={localizer}\r\n          events={events}\r\n          startAccessor=\"start\"\r\n          endAccessor=\"end\"\r\n          style={{ height: \"100vh\" }}\r\n          onSelectSlot={handleSelect}\r\n          onSelectEvent={handleEventSelect}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","D:\\Programming\\socialcalendar\\socialcalendar\\src\\App.js",["24","25"],"import React from \"react\";\nimport { Switch, Route, Link, Redirect } from \"react-router-dom\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\n\n//Route Imports\nimport Home from \"./pages/Home\";\nimport Login from \"./pages/Login\";\n\nfunction App() {\n  return (\n    <>\n      <Switch>\n        <Redirect exact from=\"/\" to=\"/home\" />\n        <Route path=\"/home\" component={Home} />\n        <Route path=\"/client/:client\" component={Home} />\n        <Route path=\"/login\" component={Login} />\n      </Switch>\n    </>\n  );\n}\n\nexport default App;\n","D:\\Programming\\socialcalendar\\socialcalendar\\src\\pages\\Login.js",[],{"ruleId":"26","severity":1,"message":"27","line":15,"column":10,"nodeType":"28","messageId":"29","endLine":15,"endColumn":21},{"ruleId":"30","severity":1,"message":"31","line":31,"column":6,"nodeType":"32","endLine":31,"endColumn":14,"suggestions":"33"},{"ruleId":"26","severity":1,"message":"34","line":49,"column":13,"nodeType":"28","messageId":"29","endLine":49,"endColumn":28},{"ruleId":"35","severity":1,"message":"36","line":180,"column":23,"nodeType":"37","endLine":180,"endColumn":62},{"ruleId":"26","severity":1,"message":"38","line":2,"column":25,"nodeType":"28","messageId":"29","endLine":2,"endColumn":29},{"ruleId":"26","severity":1,"message":"39","line":3,"column":8,"nodeType":"28","messageId":"29","endLine":3,"endColumn":12},"no-unused-vars","'useLocation' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getEvents'. Either include it or remove the dependency array.","ArrayExpression",["40"],"'formattedEvents' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'Link' is defined but never used.","'logo' is defined but never used.",{"desc":"41","fix":"42"},"Update the dependencies array to be: [client, getEvents]",{"range":"43","text":"44"},[1340,1348],"[client, getEvents]"]